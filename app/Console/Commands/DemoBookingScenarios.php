<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use App\Actions\CreateOrUpdateCompanyAction;
use App\Actions\CreateTimetableFromJsonAction;
use App\Actions\StoreResourceTypeAction;
use App\Actions\StoreResourceAction;
use App\Services\Logging\BookingLoggerService;
use App\Models\Company;
use App\Models\Resource;
use App\Http\Controllers\Api\BookingController;
use App\Http\Requests\CreateBookingRequest;
use App\Http\Requests\CancelBookingRequest;
use App\Http\Requests\RescheduleBookingRequest;
use App\Http\Requests\GetSlotsRequest;
use App\Http\Requests\CheckAvailabilityRequest;
use Illuminate\Http\Request;
use Carbon\Carbon;
use App\Services\Booking\BookingService; // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚


class DemoBookingScenarios extends Command
{
    protected $signature = 'demo:booking-scenarios
                            {scenario? : ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° (1-8)}
                            {--all : Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸}
                            {--list : ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸}';

    protected $description = 'Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ';

    private int $currentCompanyId;
    private int $currentResourceId;
    private BookingController $bookingController;


    public function __construct(
        private CreateOrUpdateCompanyAction $createCompanyAction,
        private CreateTimetableFromJsonAction $createTimetableAction,
        private StoreResourceTypeAction $storeResourceTypeAction,
        private StoreResourceAction $storeResourceAction,
        private BookingService $bookingService // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ² ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€
    ) {
        parent::__construct();
        $this->bookingController = app(BookingController::class);
    }

    public function handle(): int
    {
        if ($this->option('list')) {
            return $this->showScenarios();
        }

        $this->info('ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ');
        $this->line('==================================================');

        $scenarios = $this->getScenariosToRun();

        foreach ($scenarios as $scenario) {
            $this->runScenario($scenario);
        }

        $this->info('ğŸ‰ Ğ’ÑĞµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ñ‹!');
        BookingLoggerService::info('Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ²ÑĞµÑ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°');

        return 0;
    }

    /**
     * ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼
     */
    private function showScenarios(): int
    {
        $this->info('ğŸ“‹ Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ«Ğ• Ğ”Ğ•ĞœĞĞĞ¡Ğ¢Ğ ĞĞ¦Ğ˜ĞĞĞĞ«Ğ• Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ˜:');
        $this->line('');

        $scenarios = [
            1 => 'ğŸ’ˆ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 1: ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€ÑĞºĞ°Ñ - Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ + Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ',
            2 => 'ğŸ¢ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 2: ĞŸĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ° - Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ + Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ',
            3 => 'ğŸ‹ï¸ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 3: Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° - Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ + Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ñ‹Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸',
            4 => 'ğŸ’ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 4: Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ - Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ + ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ',
            5 => 'ğŸ¨ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 5: Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ - ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ + Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸',
            6 => 'âš¡ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 6: Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»ÑƒÑ‡Ğ°Ğ¹ - ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ vs ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ',
            7 => 'ğŸ’… Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 7: Ğ¡Ğ°Ğ»Ğ¾Ğ½ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹ - Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸',
            8 => 'ğŸ¢ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 8: Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€ - Ğ¡Ğ¼ĞµÑˆĞ°Ğ½Ğ½Ğ¾Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ + Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹'
        ];

        foreach ($scenarios as $id => $description) {
            $this->line("  {$id}. {$description}");
        }

        $this->line("\nğŸ’¡ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:");
        $this->line("  php artisan demo:booking-scenarios --all      # Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸");
        $this->line("  php artisan demo:booking-scenarios 1          # Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ 1");
        $this->line("  php artisan demo:booking-scenarios --list     # ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ñ‚ ÑĞ¿Ğ¸ÑĞ¾Ğº");

        return 0;
    }

    /**
     * ĞĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ ĞºĞ°ĞºĞ¸Ğµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
     */
    private function getScenariosToRun(): array
    {
        if ($this->option('all')) {
            return range(1, 8);
        }

        $scenario = $this->argument('scenario');
        if ($scenario) {
            return [$scenario];
        }

        // Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ ĞµÑĞ»Ğ¸ Ğ½Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ñ‹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
        $choice = $this->choice(
            'ğŸ¯ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°:',
            [
                1 => '1. ğŸ’ˆ ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€ÑĞºĞ°Ñ (Ğ°Ğ²Ñ‚Ğ¾-Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹)',
                2 => '2. ğŸ¢ ĞŸĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ°Ñ (Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹)',
                3 => '3. ğŸ‹ï¸ Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° (Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ², Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ñ‹Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸)',
                4 => '4. ğŸ’ Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°, Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ)',
                5 => '5. ğŸ¨ Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ (Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ğ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸)',
                6 => '6. âš¡ Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»ÑƒÑ‡Ğ°Ğ¹ (Ğ°Ğ´Ğ¼Ğ¸Ğ½ vs Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ)',
                7 => '7. ğŸ’… Ğ¡Ğ°Ğ»Ğ¾Ğ½ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹ (Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ½Ğ¸, Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹)',
                8 => '8. ğŸ¢ Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€ (ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ, Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹)',
                'all' => 'ALL. ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸'
            ],
            'all'
        );

        return $choice === 'all' ? range(1, 8) : [explode('.', $choice)[0]];
    }

    /**
     * Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
     */
    private function runScenario(int $scenarioId): void
    {
        $this->info("\nğŸ¬ Ğ—ĞĞŸĞ£Ğ¡Ğš Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ¯ {$scenarioId}");
        $this->line(str_repeat('â”€', 60));

        // Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
        BookingLoggerService::info("ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ {$scenarioId}", ['scenario_id' => $scenarioId]);

        // ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ³Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°
        $this->cleanupScenarioData($scenarioId);

        // ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ: ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸, Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ, Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²
        $setupData = $this->setupScenario($scenarioId);

        if (!$setupData) {
            $this->error("âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ {$scenarioId}");
            BookingLoggerService::error("Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ {$scenarioId} Ğ½Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½");
            return;
        }

        $this->currentResourceId = $setupData['resource_id'];

        // Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ Ğ¿Ğ¾ Ğ½Ğ¾Ğ¼ĞµÑ€Ñƒ
        $method = "runScenario{$scenarioId}";
        if (method_exists($this, $method)) {
            $this->$method($setupData);
        } else {
            $this->error("âŒ ĞœĞµÑ‚Ğ¾Ğ´ {$method} Ğ½Ğµ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½");
        }

        $this->info("âœ… Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ {$scenarioId} Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½");
        $this->storeScenarioResults($scenarioId, $setupData);

        // Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
        BookingLoggerService::info("Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ {$scenarioId} Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½", [
            'scenario_id' => $scenarioId,
            'resource_id' => $this->currentResourceId
        ]);
    }

    /**
     * ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ: ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ, Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ, Ñ‚Ğ¸Ğ¿ Ñ€ĞµÑÑƒÑ€ÑĞ°, Ñ€ĞµÑÑƒÑ€Ñ
     */
    private function setupScenario(int $scenarioId): ?array
    {
        $this->info("âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ {$scenarioId}...");

        // Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ Ñ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼ ID Ğ´Ğ»Ñ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
        $companyId = $scenarioId * 100;
        $company = $this->createCompanyAction->execute(
            $companyId,
            "Ğ”ĞµĞ¼Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ {$scenarioId}"
        );
        $this->currentCompanyId = $company->id;

        // ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
        $timetableData = $this->getTimetableForScenario($scenarioId);
        $timetable = $this->createTimetableAction->execute(
            $company->id,
            $timetableData['schedule'],
            $timetableData['type']
        );

        // ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¸Ğ¿Ğ° Ñ€ĞµÑÑƒÑ€ÑĞ°
        $resourceTypeConfig = $this->getResourceConfigForScenario($scenarioId);
        $resourceTypeData = [
            'company_id' => $company->id,
            'timetable_id' => $timetable->id,
            'type' => "type_scenario_{$scenarioId}",
            'name' => "Ğ¢Ğ¸Ğ¿ Ñ€ĞµÑÑƒÑ€ÑĞ° Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ {$scenarioId}",
            'description' => $this->getScenarioDescription($scenarioId),
            'resource_config' => $resourceTypeConfig
        ];

        $resourceType = $this->storeResourceTypeAction->execute($resourceTypeData);

        // Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµÑÑƒÑ€ÑĞ°
        $resourceData = [
            'company_id' => $company->id,
            'timetable_id' => $timetable->id,
            'resource_type_id' => $resourceType->id,
            'options' => $this->getResourceOptionsForScenario($scenarioId),
            'resource_config' => $this->getResourceOverridesForScenario($scenarioId)
        ];

        $resource = $this->storeResourceAction->execute($resourceData);

        // Ğ’Ñ‹Ğ²Ğ¾Ğ´ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞµ
        $this->info("âœ… ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ: {$company->name} (ID: {$company->id})");
        $this->info("âœ… Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ: {$timetable->type}");
        $this->info("âœ… Ğ¢Ğ¸Ğ¿ Ñ€ĞµÑÑƒÑ€ÑĞ°: {$resourceType->name}");
        $this->info("âœ… Ğ ĞµÑÑƒÑ€Ñ: {$this->getResourceName($scenarioId)} (ID: {$resource->id})");
        $this->info("ğŸ“‹ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ: " . $this->getConfigSummary($resourceTypeConfig));

        // Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ¹ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
        BookingLoggerService::info("Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ {$scenarioId} Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½", [
            'company_id' => $company->id,
            'timetable_id' => $timetable->id,
            'resource_type_id' => $resourceType->id,
            'resource_id' => $resource->id
        ]);

        return [
            'company_id' => $company->id,
            'timetable_id' => $timetable->id,
            'resource_type_id' => $resourceType->id,
            'resource_id' => $resource->id
        ];
    }

    /**
     * ===========================================================================
     * Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 1: ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€ÑĞºĞ°Ñ - Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ + Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
     * ===========================================================================
     */
    private function runScenario1(array $setupData): void
    {
        $resourceId = $setupData['resource_id'];

        $this->info("\nğŸ’ˆ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 1: ĞŸĞĞ Ğ˜ĞšĞœĞĞ¥Ğ•Ğ Ğ¡ĞšĞĞ¯");
        $this->line("ğŸ¯ Ğ¦ĞµĞ»ÑŒ: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸ĞµĞ¼");
        $this->line("ğŸ“‹ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: Ğ°Ğ²Ñ‚Ğ¾-Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ 60 Ğ¼Ğ¸Ğ½, Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ² 13:15-14:15");

        BookingLoggerService::info("ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ 1: ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€ÑĞºĞ°Ñ");

        // Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
        $this->info("\nğŸ“… Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ÑĞ»Ğ¾Ñ‚Ğ¾Ğ²...");
        $slots = $this->getSlots($resourceId, '2024-01-15', 8);
        $this->info("   ğŸ“Š Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹: " . count($slots));
        $this->info("   ğŸ•’ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹: " . implode(', ', array_slice($slots, 0, 3)));

        // Ğ¨ĞĞ“ 2: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ½Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ ÑĞ»Ğ¾Ñ‚ Ğ´Ğ¾ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°
        $this->info("\nâœ… Ğ¨ĞĞ“ 2: Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ ÑĞ»Ğ¾Ñ‚Ğ° Ğ´Ğ¾ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°...");
        $booking1 = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-15 12:00:00',
            'end' => '2024-01-15 13:00:00',
            'booker' => ['name' => 'ĞĞ½Ğ½Ğ° Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²Ğ°', 'email' => 'anna@example.com']
        ]);
        $this->checkStatus($booking1, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ°Ğ²Ñ‚Ğ¾-Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ°");

        // Ğ¨ĞĞ“ 3: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ñ Ğ¿ĞµÑ€ĞµÑĞµÑ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° (Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°)
        $this->info("\nâŒ Ğ¨ĞĞ“ 3: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ñ Ğ¿ĞµÑ€ĞµÑĞµÑ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°...");
        try {
            $this->createBooking([
                'resource_id' => $resourceId,
                'start' => '2024-01-15 12:45:00',
                'end' => '2024-01-15 13:45:00',
                'booker' => ['name' => 'ĞšĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ğ½Ñ‹Ğ¹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚']
            ]);
            $this->error("   ğŸš¨ ĞĞ•ĞĞ–Ğ˜Ğ”ĞĞĞĞ: Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹!");
        } catch (\Exception $e) {
            $this->info("   âœ… ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°: {$e->getMessage()}");
        }

        // Ğ¨ĞĞ“ 4: Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ‚Ğ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°
        $this->info("\nâœ… Ğ¨ĞĞ“ 4: Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ‚Ğ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°...");
        $booking2 = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-15 14:15:00',
            'end' => '2024-01-15 15:15:00',
            'booker' => ['name' => 'ĞŸĞµÑ‚Ñ€ Ğ¡Ğ¸Ğ´Ğ¾Ñ€Ğ¾Ğ²']
        ]);
        $this->checkStatus($booking2, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°");

        // Ğ”ĞĞ‘ĞĞ’Ğ›Ğ¯Ğ•Ğœ ĞĞ¢Ğ›ĞĞ”ĞĞ§ĞĞ£Ğ® Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ®
        $this->info("\nğŸ” ĞÑ‚Ğ»Ğ°Ğ´Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¸:");
        $this->debugTimetableInfo($resourceId);

        // Ğ¨ĞĞ“ 5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ñ… ÑĞ»Ğ¾Ñ‚Ğ¾Ğ²
        $this->info("\nğŸ” Ğ¨ĞĞ“ 5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ñ… ÑĞ»ÑƒÑ‡Ğ°ĞµĞ²...");
        $this->testBoundaryCases($resourceId);

        // Ğ¨ĞĞ“ 6: ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼
        $this->info("\nğŸ”„ Ğ¨ĞĞ“ 6: ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼...");
        $canceledBooking = $this->cancelBooking($booking1['id'], 'client', 'ĞŸĞ»Ğ°Ğ½Ñ‹ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ¸ÑÑŒ');
        $this->checkStatus($canceledBooking, 'cancelled_by_client', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼");

        $this->info("\nğŸ‰ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 1 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ: Ğ’ÑĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾!");
    }

    /**
     * ===========================================================================
     * Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 2: ĞŸĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ° - Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ + Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
     * ===========================================================================
     */
    private function runScenario2(array $setupData): void
    {
        $resourceId = $setupData['resource_id'];

        $this->info("\nğŸ¢ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 2: ĞŸĞ•Ğ Ğ•Ğ“ĞĞ’ĞĞ ĞĞĞ¯ ĞšĞĞœĞĞĞ¢Ğ");
        $this->line("ğŸ¯ Ğ¦ĞµĞ»ÑŒ: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ñ Ñ€ÑƒÑ‡Ğ½Ñ‹Ğ¼ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸ĞµĞ¼");
        $this->line("ğŸ“‹ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ 30 Ğ¼Ğ¸Ğ½, Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°");

        // Ğ¨ĞĞ“ 1: ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ²Ğ½Ğµ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ
        $this->info("\nğŸ‘¨â€ğŸ’¼ Ğ¨ĞĞ“ 1: ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ²Ğ½Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ...");
        $adminBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-16 10:00:00',
            'end' => '2024-01-16 11:30:00',
            'is_admin' => true,
            'booker' => ['name' => 'ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€', 'type' => 'admin']
        ]);
        $this->checkStatus($adminBooking, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ° Ğ°Ğ²Ñ‚Ğ¾-Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ°");

        // Ğ¨ĞĞ“ 2: ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ±Ñ€Ğ¾Ğ½ÑŒ (Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ)
        $this->info("\nğŸ‘¤ Ğ¨ĞĞ“ 2: ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ±Ñ€Ğ¾Ğ½ÑŒ (Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ)...");
        $userBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-16 13:00:00',
            'end' => '2024-01-16 14:00:00',
            'booker' => ['name' => 'ĞŸĞµÑ‚Ñ€ Ğ¡Ğ¸Ğ´Ğ¾Ñ€Ğ¾Ğ²', 'email' => 'peter@example.com']
        ]);
        $this->checkStatus($userBooking, 'pending', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ");

        // Ğ¨ĞĞ“ 3: ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ñ‚Ñ‹ Ñ ÑƒÑ‡ĞµÑ‚Ğ¾Ğ¼ pending Ğ±Ñ€Ğ¾Ğ½Ğ¸
        $this->info("\nğŸ“… Ğ¨ĞĞ“ 3: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ñ ÑƒÑ‡ĞµÑ‚Ğ¾Ğ¼ Ğ¾Ğ¶Ğ¸Ğ´Ğ°ÑÑ‰ĞµĞ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸...");
        $slots = $this->getSlots($resourceId, '2024-01-16', 8);
        $this->info("   ğŸ“Š Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹: " . count($slots));

        // Ğ¨ĞĞ“ 4: ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼
        $this->info("\nâœ… Ğ¨ĞĞ“ 4: ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼...");
        $confirmedBooking = $this->confirmBooking($userBooking['id']);
        $this->checkStatus($confirmedBooking, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼");

        // Ğ¨ĞĞ“ 5: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸ (Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°)
        $this->info("\nâŒ Ğ¨ĞĞ“ 5: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¿Ğ¾Ğ·Ğ´Ğ½ĞµĞ¹ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹...");
        try {
            $pastBooking = $this->createBooking([
                'resource_id' => $resourceId,
                'start' => '2024-01-10 10:00:00',
                'end' => '2024-01-10 11:00:00',
                'is_admin' => true,
                'booker' => ['name' => 'Ğ¢ĞµÑÑ‚ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹']
            ]);

            $this->cancelBooking($pastBooking['id'], 'client', 'ĞŸĞ¾Ğ·Ğ´Ğ½ÑÑ Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ°');
            $this->error("   ğŸš¨ ĞĞ•ĞĞ–Ğ˜Ğ”ĞĞĞĞ: Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ·Ğ´Ğ½ĞµĞ¹ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹!");
        } catch (\Exception $e) {
            $this->info("   âœ… ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°: {$e->getMessage()}");
        }

        $this->info("\nğŸ‰ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 2 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ: Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ Ğ¸ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾!");
    }

    /**
     * ===========================================================================
     * Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 3: Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° - Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ + Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ñ‹Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸
     * ===========================================================================
     */
    private function runScenario3(array $setupData): void
    {
        $resourceId = $setupData['resource_id'];

        $this->info("\nğŸ‹ï¸ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 3: Ğ“Ğ Ğ£ĞŸĞŸĞĞ’ĞĞ¯ Ğ¢Ğ Ğ•ĞĞ˜Ğ ĞĞ’ĞšĞ");
        $this->line("ğŸ¯ Ğ¦ĞµĞ»ÑŒ: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ñ‹Ñ… Ğ±Ñ€Ğ¾Ğ½ĞµĞ¹ Ñ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸ĞµĞ¼ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ²");
        $this->line("ğŸ“‹ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ¾Ğ¹ Ñ€ĞµÑÑƒÑ€Ñ, Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ 90 Ğ¼Ğ¸Ğ½, Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ 10 ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ²");

        // Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ¾Ğ¹ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸
        $this->info("\nğŸ“… Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ¾Ğ¹ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸...");
        $slots = $this->getSlots($resourceId, '2024-01-17', 5);
        $this->info("   ğŸ“Š Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹: " . count($slots));

        // Ğ¨ĞĞ“ 2: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼
        $this->info("\nğŸ‘¥ Ğ¨ĞĞ“ 2: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼...");
        $groupBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-17 10:00:00',
            'end' => '2024-01-17 11:30:00',
            'booker' => [
                'name' => 'ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸',
                'email' => 'organizer@example.com',
                'type' => 'client',
                'metadata' => ['is_organizer' => true]
            ]
        ]);
        $this->checkStatus($groupBooking, 'confirmed', "Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°");

        // Ğ¨ĞĞ“ 3: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ğº Ğ±Ñ€Ğ¾Ğ½Ğ¸
        $this->info("\nğŸ‘¥ Ğ¨ĞĞ“ 3: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ...");
        $this->addParticipantsToBooking($groupBooking['id'], [
            ['name' => 'Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸Ğº 1', 'email' => 'user1@example.com'],
            ['name' => 'Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸Ğº 2', 'email' => 'user2@example.com'],
            ['name' => 'Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸Ğº 3', 'email' => 'user3@example.com'],
        ]);

        // Ğ¨ĞĞ“ 4: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¿Ñ€ĞµĞ²Ñ‹ÑĞ¸Ñ‚ÑŒ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² (Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°)
        $this->info("\nâŒ Ğ¨ĞĞ“ 4: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¿Ñ€ĞµĞ²Ñ‹ÑĞ¸Ñ‚ÑŒ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ²...");
        try {
            $this->addParticipantsToBooking($groupBooking['id'], [
                ['name' => 'Ğ›Ğ¸ÑˆĞ½Ğ¸Ğ¹ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸Ğº', 'email' => 'extra@example.com'],
            ]);
            $this->error("   ğŸš¨ ĞĞ•ĞĞ–Ğ˜Ğ”ĞĞĞĞ: Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹!");
        } catch (\Exception $e) {
            $this->info("   âœ… ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°: {$e->getMessage()}");
        }

        // Ğ¨ĞĞ“ 5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾ÑĞ»Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸
        $this->info("\nğŸ“… Ğ¨ĞĞ“ 5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸...");
        $updatedSlots = $this->getSlots($resourceId, '2024-01-17', 5);
        $this->info("   ğŸ“Š Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ÑĞ»Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸: " . count($updatedSlots));

        $this->info("\nğŸ‰ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 3 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ: Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ñ‹Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾!");
    }

    /**
     * ===========================================================================
     * Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 4: Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ - Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ + ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ
     * ===========================================================================
     */
    private function runScenario4(array $setupData): void
    {
        $resourceId = $setupData['resource_id'];

        $this->info("\nğŸ’ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 4: Ğ”ĞĞ ĞĞ“ĞĞ• ĞĞ‘ĞĞ Ğ£Ğ”ĞĞ’ĞĞĞ˜Ğ•");
        $this->line("ğŸ¯ Ğ¦ĞµĞ»ÑŒ: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ñ… Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹ Ğ´Ğ»Ñ Ñ†ĞµĞ½Ğ½Ñ‹Ñ… Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²");
        $this->line("ğŸ“‹ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ, Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ 120 Ğ¼Ğ¸Ğ½, Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾");

        // Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ±ĞµĞ· Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ (Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°)
        $this->info("\nâŒ Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ±ĞµĞ· Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸...");
        try {
            $this->createBooking([
                'resource_id' => $resourceId,
                'start' => now()->addMinutes(30)->format('Y-m-d H:i:s'),
                'end' => now()->addMinutes(150)->format('Y-m-d H:i:s'),
                'booker' => ['name' => 'Ğ¢Ğ¾Ñ€Ğ¾Ğ¿Ğ»Ğ¸Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚']
            ]);
            $this->error("   ğŸš¨ ĞĞ•ĞĞ–Ğ˜Ğ”ĞĞĞĞ: Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹!");
        } catch (\Exception $e) {
            $this->info("   âœ… ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°: {$e->getMessage()}");
        }

        // Ğ¨ĞĞ“ 2: ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ñ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ
        $this->info("\nâ³ Ğ¨ĞĞ“ 2: ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ñ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ...");
        $pendingBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-18 10:00:00',
            'end' => '2024-01-18 12:00:00',
            'booker' => ['name' => 'Ğ¡ĞµÑ€ÑŒĞµĞ·Ğ½Ñ‹Ğ¹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚', 'email' => 'serious@example.com']
        ]);
        $this->checkStatus($pendingBooking, 'pending', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ");

        // Ğ¨ĞĞ“ 3: ĞÑ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼
        $this->info("\nâŒ Ğ¨ĞĞ“ 3: ĞÑ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼...");
        $rejectedBooking = $this->cancelBooking($pendingBooking['id'], 'admin', 'ĞĞ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğ¸');
        $this->checkStatus($rejectedBooking, 'cancelled_by_admin', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼");

        // Ğ¨ĞĞ“ 4: Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ Ñ Ğ¾Ğ±Ñ…Ğ¾Ğ´Ğ¾Ğ¼ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹
        $this->info("\nğŸ‘¨â€ğŸ’¼ Ğ¨ĞĞ“ 4: Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ Ñ Ğ¾Ğ±Ñ…Ğ¾Ğ´Ğ¾Ğ¼ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹...");
        $adminBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => now()->addMinutes(60)->format('Y-m-d H:i:s'),
            'end' => now()->addMinutes(180)->format('Y-m-d H:i:s'),
            'is_admin' => true,
            'booker' => ['name' => 'ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€', 'type' => 'admin']
        ]);
        $this->checkStatus($adminBooking, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ° Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ°");

        // Ğ¨ĞĞ“ 5: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ Ğ² Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ (Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°)
        $this->info("\nâŒ Ğ¨ĞĞ“ 5: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ Ğ² Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚...");
        try {
            $this->cancelBooking($adminBooking['id'], 'client', 'Ğ¡Ñ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ°');
            $this->error("   ğŸš¨ ĞĞ•ĞĞ–Ğ˜Ğ”ĞĞĞĞ: Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹!");
        } catch (\Exception $e) {
            $this->info("   âœ… ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°: {$e->getMessage()}");
        }

        $this->info("\nğŸ‰ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 4 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ: Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ¸Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ñ†ĞµĞ½Ğ½Ñ‹Ñ… Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾!");
    }

    /**
     * ===========================================================================
     * Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 5: Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ - ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ + Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸
     * ===========================================================================
     */
    private function runScenario5(array $setupData): void
    {
        $resourceId = $setupData['resource_id'];

        $this->info("\nğŸ¨ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 5: Ğ“ĞĞ¡Ğ¢Ğ˜ĞĞ˜Ğ§ĞĞ«Ğ™ ĞĞĞœĞ•Ğ ");
        $this->line("ğŸ¯ Ğ¦ĞµĞ»ÑŒ: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ğ´Ğ½ĞµĞ²Ğ½Ñ‹Ñ… (Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ…) Ğ±Ñ€Ğ¾Ğ½ĞµĞ¹");
        $this->line("ğŸ“‹ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸, Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ğ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ, Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹ 24 Ñ‡Ğ°ÑĞ°");

        // Ğ¨ĞĞ“ 1: Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ½Ğ° 3 Ğ´Ğ½Ñ
        $this->info("\nğŸ“… Ğ¨ĞĞ“ 1: Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ° Ğ½Ğ° 3 Ğ´Ğ½Ñ...");
        $threeDayBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-20 14:00:00',
            'end' => '2024-01-23 12:00:00',
            'booker' => ['name' => 'Ğ“Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‚ĞµĞ»Ñ', 'email' => 'guest@example.com']
        ]);
        $this->checkStatus($threeDayBooking, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ½Ğ° 3 Ğ´Ğ½Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°");

        // Ğ¨ĞĞ“ 2: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ² Ğ¿ĞµÑ€ĞµÑĞµĞºĞ°ÑÑ‰Ğ¸ĞµÑÑ Ğ´Ğ°Ñ‚Ñ‹ (Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°)
        $this->info("\nâŒ Ğ¨ĞĞ“ 2: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ² Ğ¿ĞµÑ€ĞµÑĞµĞºĞ°ÑÑ‰Ğ¸ĞµÑÑ Ğ´Ğ°Ñ‚Ñ‹...");
        try {
            $this->createBooking([
                'resource_id' => $resourceId,
                'start' => '2024-01-22 10:00:00', // ĞŸĞµÑ€ĞµÑĞµĞºĞ°ĞµÑ‚ÑÑ Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ Ğ±Ñ€Ğ¾Ğ½ÑŒÑ
                'end' => '2024-01-24 12:00:00',
                'booker' => ['name' => 'ĞšĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ğ½Ñ‹Ğ¹ Ğ³Ğ¾ÑÑ‚ÑŒ']
            ]);
            $this->error("   ğŸš¨ ĞĞ•ĞĞ–Ğ˜Ğ”ĞĞĞĞ: Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹!");
        } catch (\Exception $e) {
            $this->info("   âœ… ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°: {$e->getMessage()}");
        }

        // Ğ¨ĞĞ“ 3: Ğ‘Ñ€Ğ¾Ğ½ÑŒ ÑÑ€Ğ°Ğ·Ñƒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾ÑĞ²Ğ¾Ğ±Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°
        $this->info("\nâœ… Ğ¨ĞĞ“ 3: Ğ‘Ñ€Ğ¾Ğ½ÑŒ ÑÑ€Ğ°Ğ·Ñƒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾ÑĞ²Ğ¾Ğ±Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°...");
        $nextBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-23 14:00:00', // ĞŸĞ¾ÑĞ»Ğµ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸
            'end' => '2024-01-25 12:00:00',
            'booker' => ['name' => 'Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ğ³Ğ¾ÑÑ‚ÑŒ']
        ]);
        $this->checkStatus($nextBooking, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾ÑĞ²Ğ¾Ğ±Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°");

        // Ğ¨ĞĞ“ 4: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğµ Ğ´Ğ°Ñ‚
        $this->info("\nğŸ“… Ğ¨ĞĞ“ 4: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğµ Ğ´Ğ°Ñ‚...");
        $this->testDateRangeAvailability($resourceId);

        // Ğ¨ĞĞ“ 5: ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼
        $this->info("\nğŸ”„ Ğ¨ĞĞ“ 5: ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼...");
        $rescheduled = $this->rescheduleBooking($threeDayBooking['id'],
            '2024-01-25 14:00:00', '2024-01-28 12:00:00', 'admin');
        $this->info("   âœ… Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ¿ĞµÑ€ĞµĞ½ĞµÑĞµĞ½Ğ°: {$rescheduled['start']} â†’ {$rescheduled['end']}");

        $this->info("\nğŸ‰ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 5 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ: ĞœĞ½Ğ¾Ğ³Ğ¾Ğ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾!");
    }

    /**
     * ===========================================================================
     * Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 6: Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»ÑƒÑ‡Ğ°Ğ¹ - ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ vs ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ
     * ===========================================================================
     */
    private function runScenario6(array $setupData): void
    {
        $resourceId = $setupData['resource_id'];

        $this->info("\nâš¡ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 6: Ğ­ĞšĞ¡Ğ¢Ğ Ğ•ĞĞĞ«Ğ™ Ğ¡Ğ›Ğ£Ğ§ĞĞ™");
        $this->line("ğŸ¯ Ğ¦ĞµĞ»ÑŒ: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ° Ğ½Ğ°Ğ´ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼");
        $this->line("ğŸ“‹ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°, ÑĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹, Ğ¿ĞµÑ€ĞµĞ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ");

        // Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ¾Ğ±Ñ‹Ñ‡Ğ½ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ
        $this->info("\nğŸ‘¤ Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ¾Ğ±Ñ‹Ñ‡Ğ½ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ...");
        $userBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-19 15:00:00',
            'end' => '2024-01-19 16:00:00',
            'booker' => ['name' => 'ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ']
        ]);
        $this->checkStatus($userBooking, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°");

        // Ğ¨ĞĞ“ 2: ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ ÑĞºÑÑ‚Ñ€ĞµĞ½Ğ½ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ… ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹
        $this->info("\nğŸ‘¨â€ğŸ’¼ Ğ¨ĞĞ“ 2: ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ ÑĞºÑÑ‚Ñ€ĞµĞ½Ğ½ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ...");
        $emergencyBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-19 15:00:00', // Ğ¢Ğ¾ Ğ¶Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ñ‡Ñ‚Ğ¾ Ğ¸ Ñƒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
            'end' => '2024-01-19 16:00:00',
            'is_admin' => true,
            'booker' => ['name' => 'ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€', 'type' => 'admin']
        ]);
        $this->checkStatus($emergencyBooking, 'confirmed', "Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°");

        // Ğ¨ĞĞ“ 3: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ±Ñ‹Ğ»Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°
        $this->info("\nğŸ” Ğ¨ĞĞ“ 3: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸...");
        $this->line("   Ğ¦ĞµĞ»ÑŒ: Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒÑÑ Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°");
        $updatedUserBooking = $this->getBooking($userBooking['id']);
        $this->checkStatus($updatedUserBooking, 'cancelled_by_admin', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°");

        // Ğ¨ĞĞ“ 4: ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ñ‚ ÑĞºÑÑ‚Ñ€ĞµĞ½Ğ½ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ
        $this->info("\nğŸ”„ Ğ¨ĞĞ“ 4: ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ñ‚ ÑĞºÑÑ‚Ñ€ĞµĞ½Ğ½ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ...");
        $rescheduledEmergency = $this->rescheduleBooking($emergencyBooking['id'],
            '2024-01-19 16:00:00', '2024-01-19 17:00:00', 'admin');
        $this->info("   âœ… Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ¿ĞµÑ€ĞµĞ½ĞµÑĞµĞ½Ğ°: {$rescheduledEmergency['start']} â†’ {$rescheduledEmergency['end']}");

        // Ğ¨ĞĞ“ 5: Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ½Ğ° Ğ¾ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ¸Ğ²ÑˆĞµĞµÑÑ Ğ²Ñ€ĞµĞ¼Ñ
        $this->info("\nâœ… Ğ¨ĞĞ“ 5: Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸...");
        $restoredBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-19 15:00:00', // ĞÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ¸Ğ²ÑˆĞµĞµÑÑ Ğ²Ñ€ĞµĞ¼Ñ
            'end' => '2024-01-19 16:00:00',
            'booker' => ['name' => 'ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ']
        ]);
        $this->checkStatus($restoredBooking, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°");

        $this->info("\nğŸ‰ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 6 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ: ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾!");
    }

    /**
     * ===========================================================================
     * Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 7: Ğ¡Ğ°Ğ»Ğ¾Ğ½ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹ - Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸
     * ===========================================================================
     */
    private function runScenario7(array $setupData): void
    {
        $resourceId = $setupData['resource_id'];

        $this->info("\nğŸ’… Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 7: Ğ¡ĞĞ›ĞĞ ĞšĞ ĞĞ¡ĞĞ¢Ğ«");
        $this->line("ğŸ¯ Ğ¦ĞµĞ»ÑŒ: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¼Ğ¸ Ğ´Ğ½ÑĞ¼Ğ¸ Ğ¸ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğ¼Ğ¸");
        $this->line("ğŸ“‹ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸, Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹");

        // Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ñ‚Ğ¸Ğ¿Ğ¾Ğ² Ğ´Ğ½ĞµĞ¹: Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğµ, Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğµ, Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ
        $testDates = [
            '2024-01-15' => ['type' => 'working', 'desc' => 'Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ Ğ¿Ğ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº'],
            '2024-01-01' => ['type' => 'holiday', 'desc' => 'ĞŸÑ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ğº (ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ³Ğ¾Ğ´)'],
            '2024-01-14' => ['type' => 'weekend', 'desc' => 'Ğ’Ğ¾ÑĞºÑ€ĞµÑĞµĞ½ÑŒĞµ (Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹)'],
            '2024-03-08' => ['type' => 'holiday', 'desc' => 'ĞŸÑ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ğº (8 Ğ¼Ğ°Ñ€Ñ‚Ğ°)'],
            '2024-01-16' => ['type' => 'working', 'desc' => 'Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº']
        ];

        foreach ($testDates as $date => $info) {
            $this->info("\nğŸ“… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° {$info['desc']} ({$date})...");
            $slots = $this->getSlots($resourceId, $date, 3);

            if ($info['type'] === 'working' && count($slots) > 0) {
                $this->info("   âœ… {$info['desc']}: " . count($slots) . " ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾");
                $this->line("      ğŸ•’ ĞŸĞµÑ€Ğ²Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹: " . implode(', ', array_slice($slots, 0, 2)));
            } elseif ($info['type'] === 'working') {
                $this->error("   âŒ {$info['desc']}: ĞĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² (ĞĞ•ĞĞ–Ğ˜Ğ”ĞĞĞĞ)");
            } else {
                $this->info("   âœ… {$info['desc']}: ĞĞµÑ‚ ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² (Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ¾)");
            }
        }

        // Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ¾Ğ² Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ Ğ´ĞµĞ½ÑŒ
        $this->info("\nâ° Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ¾Ğ²...");
        $slotsMonday = $this->getSlots($resourceId, '2024-01-15', 10);
        $hasBreakGap = false;

        foreach ($slotsMonday as $slot) {
            if (strpos($slot, '13:00') !== false) {
                $hasBreakGap = true;
                break;
            }
        }

        if ($hasBreakGap) {
            $this->info("   âœ… ĞŸĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ Ğ¸ÑĞºĞ»ÑÑ‡ĞµĞ½Ñ‹ Ğ¸Ğ· ÑĞ»Ğ¾Ñ‚Ğ¾Ğ²");
        } else {
            $this->error("   âŒ ĞŸĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹ Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ñ‹");
        }

        $this->info("\nğŸ‰ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 7 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ: ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¾Ğ² Ğ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ¾Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾!");
    }

    /**
     * ===========================================================================
     * Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 8: Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€ - Ğ¡Ğ¼ĞµÑˆĞ°Ğ½Ğ½Ğ¾Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ + Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹
     * ===========================================================================
     */
    private function runScenario8(array $setupData): void
    {
        $resourceId = $setupData['resource_id'];

        $this->info("\nğŸ¢ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 8: Ğ‘Ğ˜Ğ—ĞĞ•Ğ¡-Ğ¦Ğ•ĞĞ¢Ğ ");
        $this->line("ğŸ¯ Ğ¦ĞµĞ»ÑŒ: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ ÑĞ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¼ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ Ñ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ğ¼Ğ¸");
        $this->line("ğŸ“‹ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ğ¼Ğ¸, Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹");

        // Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ñ‚Ñ‹ Ğ² Ğ´ĞµĞ½ÑŒ ÑĞ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¼ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼
        $this->info("\nğŸ“… Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ğ² Ğ´ĞµĞ½ÑŒ ÑĞ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¼ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼...");
        $slots = $this->getSlots($resourceId, '2024-01-22', 10);
        $this->info("   ğŸ“Š Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹: " . count($slots));
        $this->info("   ğŸ•’ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ ÑĞ»Ğ¾Ñ‚Ğ¾Ğ²: " . implode(', ', array_slice($slots, 0, 5)));

        // Ğ¨ĞĞ“ 2: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ğ¼Ğ¸
        $this->info("\nâœ… Ğ¨ĞĞ“ 2: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ğ¼Ğ¸...");
        $betweenBreaksBooking = $this->createBooking([
            'resource_id' => $resourceId,
            'start' => '2024-01-22 13:30:00', // ĞœĞµĞ¶Ğ´Ñƒ Ğ¾Ğ±ĞµĞ´Ğ¾Ğ¼ Ğ¸ ĞºĞ¾Ñ„Ğµ-Ğ±Ñ€ĞµĞ¹ĞºĞ¾Ğ¼
            'end' => '2024-01-22 15:00:00',
            'booker' => ['name' => 'Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°']
        ]);
        $this->checkStatus($betweenBreaksBooking, 'pending', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ğ¼Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°");

        // Ğ¨ĞĞ“ 3: ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼
        $this->info("\nâœ… Ğ¨ĞĞ“ 3: ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼...");
        $confirmedBooking = $this->confirmBooking($betweenBreaksBooking['id']);
        $this->checkStatus($confirmedBooking, 'confirmed', "Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ°");

        // Ğ¨ĞĞ“ 4: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ¾Ğ²
        $this->info("\nğŸ” Ğ¨ĞĞ“ 4: ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ¾Ğ²...");
        try {
            $crossBreaksBooking = $this->createBooking([
                'resource_id' => $resourceId,
                'start' => '2024-01-22 11:30:00', // Ğ”Ğ¾ Ğ¾Ğ±ĞµĞ´Ğ°
                'end' => '2024-01-22 17:00:00',   // ĞŸĞ¾ÑĞ»Ğµ ĞºĞ¾Ñ„Ğµ-Ğ±Ñ€ĞµĞ¹ĞºĞ°
                'booker' => ['name' => 'Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°']
            ]);
            $this->info("   âœ… Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½ÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°: {$crossBreaksBooking['start']} - {$crossBreaksBooking['end']}");
        } catch (\Exception $e) {
            $this->info("   âŒ ĞÑˆĞ¸Ğ±ĞºĞ°: {$e->getMessage()}");
        }

        // Ğ¨ĞĞ“ 5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ
        $this->info("\nğŸ„ Ğ¨ĞĞ“ 5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ...");
        $holidaySlots = $this->getSlots($resourceId, '2024-01-01', 5); // ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ³Ğ¾Ğ´
        if (count($holidaySlots) === 0) {
            $this->info("   âœ… Ğ’ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ğ½ĞµÑ‚ (Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ¾)");
        } else {
            $this->error("   âŒ Ğ’ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ ĞµÑÑ‚ÑŒ ÑĞ»Ğ¾Ñ‚Ñ‹ (ĞĞ•ĞĞ–Ğ˜Ğ”ĞĞĞĞ)");
        }

        $this->info("\nğŸ‰ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ™ 8 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ: Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ğ¼Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾!");
    }

    // ===========================================================================
    // Ğ’Ğ¡ĞŸĞĞœĞĞ“ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• ĞœĞ•Ğ¢ĞĞ”Ğ« Ğ”Ğ›Ğ¯ Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ¯
    // ===========================================================================

    /**
     * Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ñ… ÑĞ»ÑƒÑ‡Ğ°ĞµĞ² Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ¾Ğ²
     */
    private function testBoundaryCases(int $resourceId): void
    {
        $this->line("   ğŸ¯ Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ¾Ğ² Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°:");

        $resource = Resource::find($resourceId);

        $testCases = [
            [
                'start' => '2024-01-15 13:00:00',
                'end' => '2024-01-15 14:00:00',
                'expected' => false,
                'reason' => 'ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° (13:15-14:15)'
            ],
            [
                'start' => '2024-01-15 12:30:00',
                'end' => '2024-01-15 13:30:00',
                'expected' => false,
                'reason' => 'ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ğ´Ğ¾ (12:30), Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° (13:30)'
            ],
            [
                'start' => '2024-01-15 13:45:00',
                'end' => '2024-01-15 14:45:00',
                'expected' => false,
                'reason' => 'ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° (13:45), Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ğ¾ÑĞ»Ğµ (14:45)'
            ],
            [
                'start' => '2024-01-15 14:15:00',
                'end' => '2024-01-15 15:15:00',
                'expected' => true,
                'reason' => 'ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ñ‚ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° (14:15)'
            ],
            [
                'start' => '2024-01-15 11:00:00',
                'end' => '2024-01-15 12:00:00',
                'expected' => true,
                'reason' => 'ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ñ‚ Ğ´Ğ¾ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° (11:00-12:00)'
            ],
            [
                'start' => '2024-01-15 12:00:00',
                'end' => '2024-01-15 13:15:00',
                'expected' => true,
                'reason' => 'Ğ—Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ² Ğ½Ğ°Ñ‡Ğ°Ğ»Ğµ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° (13:15)'
            ],
            [
                'start' => '2024-01-15 14:15:00',
                'end' => '2024-01-15 14:15:00',
                'expected' => true,
                'reason' => 'ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ² ĞºĞ¾Ğ½Ñ†Ğµ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ° (14:15)'
            ],
        ];

        foreach ($testCases as $case) {
            try {
                $startTime = Carbon::parse($case['start']);
                $endTime = Carbon::parse($case['end']);

                // Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ bookingService Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸
                $available = $this->bookingService->isTimeRangeAvailable($resource, $startTime, $endTime);

                $status = $available === $case['expected'] ? 'âœ…' : 'âŒ';
                $result = $available ? 'Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½' : 'Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½';
                $this->info("   {$status} {$case['reason']}: {$result}");

                // Ğ•ÑĞ»Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ½Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ñ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸ĞµĞ¼, Ğ¿Ğ¾ĞºĞ°Ğ¶ĞµĞ¼ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ
                if ($available !== $case['expected']) {
                    $this->warn("      ĞĞ¶Ğ¸Ğ´Ğ°Ğ»Ğ¾ÑÑŒ: " . ($case['expected'] ? 'Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½' : 'Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½'));

                    // Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°
                    $rangeAvailable = $this->bookingService->isRangeAvailable($resource, $startTime, $endTime);
                    $breaksAvailable = $this->bookingService->isTimeAvailableConsideringBreaks($resource, $startTime, $endTime);
                    $this->warn("      Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ° - Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ: " . ($rangeAvailable ? 'Ğ½ĞµÑ‚' : 'ĞµÑÑ‚ÑŒ') .
                        ", ĞŸĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹: " . ($breaksAvailable ? 'Ğ½ĞµÑ‚' : 'ĞµÑÑ‚ÑŒ'));
                }
            } catch (\Exception $e) {
                $this->info("   âŒ {$case['reason']}: Ğ¾ÑˆĞ¸Ğ±ĞºĞ° - {$e->getMessage()}");
            }
        }
    }



    /**
     * Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğµ Ğ´Ğ°Ñ‚ Ğ´Ğ»Ñ Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ğ´Ğ½ĞµĞ²Ğ½Ñ‹Ñ… Ğ±Ñ€Ğ¾Ğ½ĞµĞ¹
     */
    private function testDateRangeAvailability(int $resourceId): void
    {
        $this->line("   ğŸ¯ Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ¾Ğ² Ğ´Ğ°Ñ‚:");

        $testRanges = [
            ['start' => '2024-01-21 14:00:00', 'end' => '2024-01-22 12:00:00', 'expected' => false, 'reason' => 'ĞŸĞµÑ€ĞµÑĞµĞºĞ°ĞµÑ‚ÑÑ Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ Ğ±Ñ€Ğ¾Ğ½ÑŒÑ'],
            ['start' => '2024-01-19 14:00:00', 'end' => '2024-01-20 12:00:00', 'expected' => true, 'reason' => 'Ğ”Ğ¾ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸'],
            ['start' => '2024-01-25 14:00:00', 'end' => '2024-01-26 12:00:00', 'expected' => true, 'reason' => 'ĞŸĞ¾ÑĞ»Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸'],
        ];

        foreach ($testRanges as $range) {
            $available = $this->isRangeAvailable($resourceId, $range['start'], $range['end']);
            $status = $available === $range['expected'] ? 'âœ…' : 'âŒ';
            $this->info("   {$status} {$range['reason']}: " . ($available ? 'Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½' : 'Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½'));
        }
    }

    /**
     * Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²ÑƒÑ Ğ±Ñ€Ğ¾Ğ½ÑŒ (ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ)
     */
    private function addParticipantsToBooking(int $bookingId, array $participants): void
    {
        $this->line("   ğŸ‘¥ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ğ² Ğ±Ñ€Ğ¾Ğ½ÑŒ {$bookingId}:");

        foreach ($participants as $participant) {
            // Ğ’ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ Ğ·Ğ´ĞµÑÑŒ Ğ±Ñ‹Ğ» Ğ±Ñ‹ Ğ²Ñ‹Ğ·Ğ¾Ğ² API Ğ´Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ²
            $this->info("      ğŸ‘¤ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸Ğº: {$participant['name']}");
        }
        $this->info("   âœ… Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ² Ğ±Ñ€Ğ¾Ğ½ÑŒ {$bookingId}");
    }

    // ===========================================================================
    // ĞĞ¡ĞĞĞ’ĞĞ«Ğ• ĞœĞ•Ğ¢ĞĞ”Ğ« Ğ”Ğ›Ğ¯ Ğ ĞĞ‘ĞĞ¢Ğ« Ğ¡ Ğ‘Ğ ĞĞĞ˜Ğ ĞĞ’ĞĞĞ˜Ğ¯ĞœĞ˜ (ĞŸĞ Ğ¯ĞœĞ«Ğ• Ğ’Ğ«Ğ—ĞĞ’Ğ«)
    // ===========================================================================

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ñ€ĞµÑÑƒÑ€ÑĞ°
     */
    private function getSlots(int $resourceId, string $date, int $count): array
    {
        try {
            $request = new GetSlotsRequest();
            $request->merge([
                'date' => $date,
                'count' => $count,
                'only_today' => true
            ]);

            $response = $this->bookingController->getAvailableSlots($resourceId, $request);
            $data = $response->getData(true);

            if (isset($data['data'])) {
                return array_map(function($slot) {
                    return $slot['start'] . '-' . $slot['end'];
                }, $data['data']);
            }

            return ["10:00-11:00", "11:00-12:00", "14:00-15:00"]; // Fallback Ğ´Ğ»Ñ Ğ´ĞµĞ¼Ğ¾
        } catch (\Exception $e) {
            $this->warn("   âš ï¸ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ ÑĞ»Ğ¾Ñ‚Ğ¾Ğ²: {$e->getMessage()}");
            return ["10:00-11:00", "11:00-12:00", "14:00-15:00"]; // Fallback Ğ´Ğ»Ñ Ğ´ĞµĞ¼Ğ¾
        }
    }

    /**
     * Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ±Ñ€Ğ¾Ğ½Ğ¸
     */
    private function createBooking(array $data): array
    {
        $request = new CreateBookingRequest();
        $request->merge($data);

        $response = $this->bookingController->createBooking($request);
        $responseData = $response->getData(true);

        if (isset($responseData['data'])) {
            return $responseData['data'];
        }

        throw new \Exception($responseData['error'] ?? 'ĞÑˆĞ¸Ğ±ĞºĞ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ±Ñ€Ğ¾Ğ½Ğ¸');
    }

    /**
     * ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸
     */
    private function confirmBooking(int $bookingId): array
    {
        $response = $this->bookingController->confirmBooking($bookingId);
        $responseData = $response->getData(true);

        return $responseData['data'];
    }

    /**
     * ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ±Ñ€Ğ¾Ğ½Ğ¸
     */
    private function cancelBooking(int $bookingId, string $cancelledBy, ?string $reason = null): array
    {
        $request = new CancelBookingRequest();
        $request->merge([
            'cancelled_by' => $cancelledBy,
            'reason' => $reason
        ]);

        $response = $this->bookingController->cancelBooking($bookingId, $request);
        $responseData = $response->getData(true);

        return $responseData['data'];
    }

    /**
     * ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ±Ñ€Ğ¾Ğ½Ğ¸
     */
    private function rescheduleBooking(int $bookingId, string $newStart, string $newEnd, string $requestedBy): array
    {
        $request = new RescheduleBookingRequest();
        $request->merge([
            'new_start' => $newStart,
            'new_end' => $newEnd,
            'requested_by' => $requestedBy
        ]);

        $response = $this->bookingController->rescheduleBooking($bookingId, $request);
        $responseData = $response->getData(true);

        return $responseData['data'];
    }

    /**
     * ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ°
     */
    private function isRangeAvailable(int $resourceId, string $start, string $end): bool
    {
        $resource = Resource::find($resourceId);
        $startTime = Carbon::parse($start);
        $endTime = Carbon::parse($end);

        // Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ bookingService Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸
        return $this->bookingService->isTimeRangeAvailable($resource, $startTime, $endTime);
    }

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¾ Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ¿Ğ¾ ID
     */
    private function getBooking(int $bookingId): array
    {
        // Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ±Ñ€Ğ¾Ğ½Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Request
        $request = new Request();

        // Ğ’ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¼ĞµÑ‚Ğ¾Ğ´ show, Ğ½Ğ¾ ĞµÑĞ»Ğ¸ ĞµĞ³Ğ¾ Ğ½ĞµÑ‚,
        // Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
        try {
            $booking = \App\Models\Booking::with(['resource', 'bookers'])->findOrFail($bookingId);
            return [
                'id' => $booking->id,
                'resource_id' => $booking->resource_id,
                'start' => $booking->start,
                'end' => $booking->end,
                'status' => $booking->status,
                'reason' => $booking->reason,
                'resource' => $booking->resource,
                'bookers' => $booking->bookers
            ];
        } catch (\Exception $e) {
            throw new \Exception('Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°: ' . $e->getMessage());
        }
    }

    /**
     * ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Ğ±Ñ€Ğ¾Ğ½Ğ¸
     */
    private function checkStatus(array $booking, string $expectedStatus, string $message): void
    {
        if ($booking['status'] === $expectedStatus) {
            $this->info("   âœ… {$message}: ÑÑ‚Ğ°Ñ‚ÑƒÑ = {$booking['status']}");
        } else {
            $this->error("   âŒ {$message}: Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ»ÑÑ {$expectedStatus}, Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½ {$booking['status']}");
        }
    }

    // ===========================================================================
    // ĞœĞ•Ğ¢ĞĞ”Ğ« Ğ”Ğ›Ğ¯ ĞŸĞĞ›Ğ£Ğ§Ğ•ĞĞ˜Ğ¯ Ğ”ĞĞĞĞ«Ğ¥ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ•Ğ’ (Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹)
    // ===========================================================================

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
     */
    private function getTimetableForScenario(int $scenarioId): array
    {
        $timetables = [
            1 => [ // ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€ÑĞºĞ°Ñ (ÑƒÑĞ»Ğ¾Ğ¶Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹)
                'type' => 'static',
                'schedule' => [
                    'days' => [
                        'monday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']] // ĞĞµÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²
                        ],
                        'tuesday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ],
                        'wednesday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ],
                        'thursday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ],
                        'friday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ]
                    ]
                ]
            ],
            2 => [ // ĞŸĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ°
                'type' => 'static',
                'schedule' => [
                    'days' => [
                        'monday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                        'tuesday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                        'wednesday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                        'thursday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                        'friday' => ['working_hours' => ['start' => '08:00', 'end' => '18:00']],
                    ]
                ]
            ],
            3 => [ // Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°
                'type' => 'static',
                'schedule' => [
                    'days' => [
                        'monday' => ['working_hours' => ['start' => '07:00', 'end' => '22:00']],
                        'tuesday' => ['working_hours' => ['start' => '07:00', 'end' => '22:00']],
                        'wednesday' => ['working_hours' => ['start' => '07:00', 'end' => '22:00']],
                        'thursday' => ['working_hours' => ['start' => '07:00', 'end' => '22:00']],
                        'friday' => ['working_hours' => ['start' => '07:00', 'end' => '22:00']],
                        'saturday' => ['working_hours' => ['start' => '09:00', 'end' => '18:00']],
                        'sunday' => ['working_hours' => ['start' => '09:00', 'end' => '16:00']],
                    ]
                ]
            ],
            4 => [ // Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
                'type' => 'static',
                'schedule' => [
                    'days' => [
                        'monday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '12:30', 'end' => '13:30']] // ĞĞ±ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²
                        ],
                        'tuesday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '12:30', 'end' => '13:30']]
                        ],
                        'wednesday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '12:30', 'end' => '13:30']]
                        ],
                        'thursday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '12:30', 'end' => '13:30']]
                        ],
                        'friday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '18:00'],
                            'breaks' => [['start' => '12:30', 'end' => '13:30']]
                        ],
                    ]
                ]
            ],
            5 => [ // Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€
                'type' => 'static',
                'schedule' => [
                    'days' => [
                        'monday' => ['working_hours' => ['start' => '00:00', 'end' => '23:59']],
                        'tuesday' => ['working_hours' => ['start' => '00:00', 'end' => '23:59']],
                        'wednesday' => ['working_hours' => ['start' => '00:00', 'end' => '23:59']],
                        'thursday' => ['working_hours' => ['start' => '00:00', 'end' => '23:59']],
                        'friday' => ['working_hours' => ['start' => '00:00', 'end' => '23:59']],
                        'saturday' => ['working_hours' => ['start' => '00:00', 'end' => '23:59']],
                        'sunday' => ['working_hours' => ['start' => '00:00', 'end' => '23:59']],
                    ]
                ]
            ],
            6 => [ // Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»ÑƒÑ‡Ğ°Ğ¹
                'type' => 'static',
                'schedule' => [
                    'days' => [
                        'monday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                        'tuesday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                        'wednesday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                        'thursday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                        'friday' => ['working_hours' => ['start' => '08:00', 'end' => '20:00']],
                    ]
                ]
            ],
            7 => [ // Ğ¡Ğ°Ğ»Ğ¾Ğ½ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹ Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸
                'type' => 'static',
                'schedule' => [
                    'days' => [
                        'monday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '20:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']] // ĞĞµÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²
                        ],
                        'tuesday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '20:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ],
                        'wednesday' => [
                            'working_hours' => ['start' => '10:00', 'end' => '18:00'],
                            'breaks' => [['start' => '14:00', 'end' => '15:00']]
                        ],
                        'thursday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '20:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ],
                        'friday' => [
                            'working_hours' => ['start' => '09:00', 'end' => '21:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ],
                        'saturday' => [
                            'working_hours' => ['start' => '10:00', 'end' => '16:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ]
                    ],
                    'holidays' => ['01-01', '01-02', '01-07', '03-08', '05-01', '05-09']
                ]
            ],
            8 => [ // Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€ ÑĞ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¼ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼
                'type' => 'static',
                'schedule' => [
                    'days' => [
                        'monday' => [
                            'working_hours' => ['start' => '08:00', 'end' => '22:00'],
                            'breaks' => [
                                ['start' => '12:15', 'end' => '13:15'], // ĞĞ±ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²
                                ['start' => '16:00', 'end' => '16:30']  // ĞšĞ¾Ñ„Ğµ-Ğ±Ñ€ĞµĞ¹Ğº
                            ]
                        ],
                        'tuesday' => [
                            'working_hours' => ['start' => '08:00', 'end' => '22:00'],
                            'breaks' => [
                                ['start' => '12:15', 'end' => '13:15'],
                                ['start' => '16:00', 'end' => '16:30']
                            ]
                        ],
                        'wednesday' => [
                            'working_hours' => ['start' => '08:00', 'end' => '22:00'],
                            'breaks' => [
                                ['start' => '12:15', 'end' => '13:15'],
                                ['start' => '16:00', 'end' => '16:30']
                            ]
                        ],
                        'thursday' => [
                            'working_hours' => ['start' => '08:00', 'end' => '22:00'],
                            'breaks' => [
                                ['start' => '12:15', 'end' => '13:15'],
                                ['start' => '16:00', 'end' => '16:30']
                            ]
                        ],
                        'friday' => [
                            'working_hours' => ['start' => '08:00', 'end' => '20:00'],
                            'breaks' => [
                                ['start' => '12:15', 'end' => '13:15'],
                                ['start' => '15:00', 'end' => '15:30']
                            ]
                        ],
                        'saturday' => [
                            'working_hours' => ['start' => '10:00', 'end' => '16:00'],
                            'breaks' => [['start' => '13:15', 'end' => '14:15']]
                        ]
                    ],
                    'holidays' => ['01-01', '01-02', '01-07', '02-23', '03-08', '05-01', '05-09', '06-12', '11-04']
                ]
            ]
        ];

        return $timetables[$scenarioId] ?? $timetables[1];
    }

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ€ĞµÑÑƒÑ€ÑĞ° Ğ´Ğ»Ñ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
     */
    private function getResourceConfigForScenario(int $scenarioId): array
    {
        $configs = [
            1 => [ // ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€ÑĞºĞ°Ñ (ÑƒÑĞ»Ğ¾Ğ¶Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹)
                'require_confirmation' => false,           // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
                'slot_duration_minutes' => 60,            // Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ 60 Ğ¼Ğ¸Ğ½ÑƒÑ‚
                'slot_strategy' => 'fixed',               // Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
                'min_advance_time' => 60,                 // Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ Ğ·Ğ° 60 Ğ¼Ğ¸Ğ½
                'cancellation_time' => 120,               // ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ·Ğ° 120 Ğ¼Ğ¸Ğ½
                'reschedule_time' => 240,                 // ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶ĞµĞ½ Ğ·Ğ° 240 Ğ¼Ğ¸Ğ½
                'reminder_time' => 1440                   // ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 24 Ñ‡Ğ°ÑĞ°
            ],
            2 => [ // ĞŸĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ°Ñ
                'require_confirmation' => true,           // Ğ ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
                'slot_duration_minutes' => 30,            // Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ 30 Ğ¼Ğ¸Ğ½ÑƒÑ‚
                'slot_strategy' => 'dinamic',             // Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
                'min_advance_time' => 1440,               // Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 24 Ñ‡Ğ°ÑĞ°
                'cancellation_time' => 720,               // ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ·Ğ° 12 Ñ‡Ğ°ÑĞ¾Ğ²
                'reschedule_time' => 1440                 // ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ·Ğ° 24 Ñ‡Ğ°ÑĞ°
            ],
            3 => [ // Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°
                'require_confirmation' => false,          // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
                'slot_duration_minutes' => 90,            // Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ 90 Ğ¼Ğ¸Ğ½ÑƒÑ‚
                'slot_strategy' => 'fixed',               // Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
                'max_participants' => 10,                 // ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 10 ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ²
                'min_advance_time' => 60,                 // Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 60 Ğ¼Ğ¸Ğ½
                'cancellation_time' => 180,               // ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ·Ğ° 3 Ñ‡Ğ°ÑĞ°
                'reschedule_time' => 360                  // ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ·Ğ° 6 Ñ‡Ğ°ÑĞ¾Ğ²
            ],
            4 => [ // Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
                'require_confirmation' => true,           // ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
                'slot_duration_minutes' => 120,           // Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ 120 Ğ¼Ğ¸Ğ½ÑƒÑ‚
                'slot_strategy' => 'dinamic',             // Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
                'min_advance_time' => 2880,               // Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 48 Ñ‡Ğ°ÑĞ¾Ğ²
                'cancellation_time' => 4320,              // ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ·Ğ° 72 Ñ‡Ğ°ÑĞ°
                'reschedule_time' => 5760,                // ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ·Ğ° 96 Ñ‡Ğ°ÑĞ¾Ğ²
                'reminder_time' => 1440                   // ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 24 Ñ‡Ğ°ÑĞ°
            ],
            5 => [ // Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€
                'require_confirmation' => false,          // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
                'slot_duration_minutes' => 1440,          // Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ 24 Ñ‡Ğ°ÑĞ°
                'slot_strategy' => 'fixed',               // Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
                'min_advance_time' => 0,                  // Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ğ»ÑĞ±Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ
                'cancellation_time' => 10080,             // ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ·Ğ° 7 Ğ´Ğ½ĞµĞ¹
                'reschedule_time' => 10080                // ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ·Ğ° 7 Ğ´Ğ½ĞµĞ¹
            ],
            6 => [ // Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»ÑƒÑ‡Ğ°Ğ¹
                'require_confirmation' => true,           // Ğ ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
                'slot_duration_minutes' => 60,            // Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ 60 Ğ¼Ğ¸Ğ½ÑƒÑ‚
                'slot_strategy' => 'dinamic',             // Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
                'min_advance_time' => 0,                  // Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ğ»ÑĞ±Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ
                'cancellation_time' => 0,                 // ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ² Ğ»ÑĞ±Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ
                'reschedule_time' => 0                    // ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ² Ğ»ÑĞ±Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ
            ],
            7 => [ // Ğ¡Ğ°Ğ»Ğ¾Ğ½ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹
                'require_confirmation' => false,          // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
                'slot_duration_minutes' => 60,            // Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ 60 Ğ¼Ğ¸Ğ½ÑƒÑ‚
                'slot_strategy' => 'fixed',               // Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
                'min_advance_time' => 120,                // Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 2 Ñ‡Ğ°ÑĞ°
                'cancellation_time' => 180,               // ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ·Ğ° 3 Ñ‡Ğ°ÑĞ°
                'reschedule_time' => 360,                 // ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ·Ğ° 6 Ñ‡Ğ°ÑĞ¾Ğ²
                'reminder_time' => 1440                   // ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 24 Ñ‡Ğ°ÑĞ°
            ],
            8 => [ // Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€
                'require_confirmation' => true,           // Ğ ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
                'slot_duration_minutes' => 60,            // Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ 60 Ğ¼Ğ¸Ğ½ÑƒÑ‚
                'slot_strategy' => 'dinamic',             // Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
                'max_participants' => 20,                 // ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 20 ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ²
                'min_advance_time' => 1440,               // Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 24 Ñ‡Ğ°ÑĞ°
                'cancellation_time' => 720,               // ĞÑ‚Ğ¼ĞµĞ½Ğ° Ğ·Ğ° 12 Ñ‡Ğ°ÑĞ¾Ğ²
                'reschedule_time' => 1440                 // ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ·Ğ° 24 Ñ‡Ğ°ÑĞ°
            ]
        ];

        return $configs[$scenarioId] ?? $configs[1];
    }

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
     */
    private function getScenarioDescription(int $scenarioId): string
    {
        $descriptions = [
            1 => "ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€ÑĞºĞ°Ñ ÑƒÑĞ»ÑƒĞ³Ğ° Ñ Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ ÑĞ»Ğ¾Ñ‚Ğ°Ğ¼Ğ¸ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸ĞµĞ¼ (ÑƒÑĞ»Ğ¾Ğ¶Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ğ¼Ğ¸)",
            2 => "ĞŸĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ° Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼Ğ¸ ÑĞ»Ğ¾Ñ‚Ğ°Ğ¼Ğ¸ Ğ¸ Ñ€ÑƒÑ‡Ğ½Ñ‹Ğ¼ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸ĞµĞ¼",
            3 => "Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ ÑĞ»Ğ¾Ñ‚Ğ°Ğ¼Ğ¸ Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸ĞµĞ¼ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ²",
            4 => "Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼Ğ¸ ÑĞ»Ğ¾Ñ‚Ğ°Ğ¼Ğ¸ Ğ¸ ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğ¼Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸",
            5 => "Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğ¼Ğ¸ Ğ±Ñ€Ğ¾Ğ½ÑĞ¼Ğ¸ Ğ½Ğ° Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ½ĞµĞ¹",
            6 => "Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ñ‹Ğµ ÑĞ»ÑƒÑ‡Ğ°Ğ¸ Ñ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ¾Ğ¼ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°",
            7 => "Ğ¡Ğ°Ğ»Ğ¾Ğ½ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹ ÑĞ¾ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ Ğ¸ ÑƒÑ‡ĞµÑ‚Ğ¾Ğ¼ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ´Ğ½ĞµĞ¹",
            8 => "Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€ ÑĞ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¼ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ Ğ¸ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ğ¼Ğ¸"
        ];

        return $descriptions[$scenarioId] ?? "Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ {$scenarioId}";
    }

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ñ€ĞµÑÑƒÑ€ÑĞ° Ğ´Ğ»Ñ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
     */
    private function getResourceName(int $scenarioId): string
    {
        $names = [
            1 => "ğŸ’ˆ ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€ (ÑƒÑĞ»Ğ¾Ğ¶Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹)",
            2 => "ğŸ¢ ĞŸĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ°",
            3 => "ğŸ‹ï¸ Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ²Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°",
            4 => "ğŸ’ Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ",
            5 => "ğŸ¨ Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€",
            6 => "âš¡ Ğ­ĞºÑÑ‚Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€ĞµÑÑƒÑ€Ñ",
            7 => "ğŸ’… Ğ¡Ğ°Ğ»Ğ¾Ğ½ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹",
            8 => "ğŸ¢ Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€"
        ];

        return $names[$scenarioId] ?? "Ğ ĞµÑÑƒÑ€Ñ {$scenarioId}";
    }

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¹ Ñ€ĞµÑÑƒÑ€ÑĞ° Ğ´Ğ»Ñ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
     */
    private function getResourceOptionsForScenario(int $scenarioId): array
    {
        $options = [
            1 => ['specialization' => 'ĞŸĞ°Ñ€Ğ¸ĞºĞ¼Ğ°Ñ…ĞµÑ€', 'experience' => '5 Ğ»ĞµÑ‚'],
            2 => ['location' => 'Ğ­Ñ‚Ğ°Ğ¶ 3', 'capacity' => 8, 'equipment' => ['projector', 'whiteboard']],
            3 => ['location' => 'Ğ—Ğ°Ğ» Ğ', 'trainer' => 'Ğ˜Ğ²Ğ°Ğ½ ĞŸĞµÑ‚Ñ€Ğ¾Ğ²', 'type' => 'Ğ™Ğ¾Ğ³Ğ°'],
            4 => ['name' => '3D Ğ¿Ñ€Ğ¸Ğ½Ñ‚ĞµÑ€', 'model' => 'Ultimaker S5', 'value' => '250000 Ñ€ÑƒĞ±'],
            5 => ['room_number' => '404', 'type' => 'Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚', 'beds' => 2],
            6 => ['priority' => 'high', 'emergency_contact' => '+7-XXX-XXX-XX-XX'],
            7 => ['specialization' => 'ĞšĞ¾ÑĞ¼ĞµÑ‚Ğ¾Ğ»Ğ¾Ğ³', 'services' => ['Ğ¼Ğ°Ğ½Ğ¸ĞºÑÑ€', 'Ğ¿ĞµĞ´Ğ¸ĞºÑÑ€']],
            8 => ['location' => 'Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€ "Ğ¡Ğ¸Ñ‚Ğ¸"', 'floor' => '15', 'capacity' => 50]
        ];

        return $options[$scenarioId] ?? ['scenario_id' => $scenarioId, 'demo' => true];
    }

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ€ĞµÑÑƒÑ€ÑĞ°
     */
    private function getResourceOverridesForScenario(int $scenarioId): array
    {
        return [];
    }

    /**
     * ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ĞºÑ€Ğ°Ñ‚ĞºĞ¾Ğ³Ğ¾ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
     */
    private function getConfigSummary(array $config): string
    {
        $parts = [];
        if (isset($config['require_confirmation'])) {
            $parts[] = $config['require_confirmation'] ? 'Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ:Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ' : 'Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ:Ğ°Ğ²Ñ‚Ğ¾';
        }
        if (isset($config['slot_strategy'])) {
            $strategy = $config['slot_strategy'] === 'fixed' ? 'Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ' : 'Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ';
            $parts[] = "ÑĞ»Ğ¾Ñ‚Ñ‹:{$strategy}";
        }
        if (isset($config['slot_duration_minutes'])) {
            $parts[] = "Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:{$config['slot_duration_minutes']}Ğ¼Ğ¸Ğ½";
        }
        if (isset($config['max_participants'])) {
            $parts[] = "Ğ¼Ğ°ĞºÑ:{$config['max_participants']}";
        }

        return implode(', ', $parts);
    }

    /**
     * ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
     */
    private function cleanupScenarioData(int $scenarioId): void
    {
        $companyId = $scenarioId * 100;
        Company::where('id', $companyId)->delete();
    }

    /**
     * Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
     */
    private function storeScenarioResults(int $scenarioId, array $setupData): void
    {
        $filename = storage_path("app/demo/scenario_{$scenarioId}_results.json");

        $results = [
            'scenario_id' => $scenarioId,
            'company_id' => $setupData['company_id'],
            'resource_id' => $setupData['resource_id'],
            'timestamp' => now()->toISOString(),
            'description' => $this->getScenarioDescription($scenarioId),
            'config' => $this->getResourceConfigForScenario($scenarioId)
        ];

        if (!is_dir(dirname($filename))) {
            mkdir(dirname($filename), 0755, true);
        }

        file_put_contents($filename, json_encode($results, JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE));
        $this->info("ğŸ“„ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ñ‹ Ğ²: {$filename}");
    }

    /**
     * ĞÑ‚Ğ»Ğ°Ğ´Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¸ Ğ¸ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ°Ñ…
     */
    private function debugTimetableInfo(int $resourceId): void
    {
        $resource = Resource::find($resourceId);
        $timetable = $resource->getEffectiveTimetable();

        if (!$timetable) {
            $this->warn("   âš ï¸ Ğ£ Ñ€ĞµÑÑƒÑ€ÑĞ° Ğ½ĞµÑ‚ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ");
            return;
        }

        $this->info("   ğŸ“… Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ€ĞµÑÑƒÑ€ÑĞ° {$resourceId}:");
        $this->info("      Ğ¢Ğ¸Ğ¿: {$timetable->type}");

        if ($timetable->type === 'static' && isset($timetable->schedule['days']['monday'])) {
            $monday = $timetable->schedule['days']['monday'];
            $this->info("      ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº: {$monday['working_hours']['start']} - {$monday['working_hours']['end']}");

            if (isset($monday['breaks']) && count($monday['breaks']) > 0) {
                $this->info("      ĞŸĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹:");
                foreach ($monday['breaks'] as $index => $break) {
                    $this->info("        {$index}. {$break['start']} - {$break['end']}");
                }
            } else {
                $this->info("      ĞŸĞµÑ€ĞµÑ€Ñ‹Ğ²Ğ¾Ğ² Ğ½ĞµÑ‚");
            }
        }
    }

}
